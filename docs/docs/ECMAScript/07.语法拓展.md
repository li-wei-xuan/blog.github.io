---
title: 语法拓展
date: 2022-12-12
tags:
 - ECMASript
---

### 字符串拓展
```js
  // includes 返回布尔值，判断是否找到参数字符串
  var str = 'apple,banana,orange';
  var res = str.includes('banana')
  console.log(res) // true

  // repeat 将字符串重复指定次数
  var str = 'hello'
  var res = str.repeat(3)
  console.log(res) //hellohellohello

  // padStart：返回新的字符串，表示用参数字符串从头部（左侧）补全原字符串
  // padEnd：返回新的字符串，表示用参数字符串从尾部（右侧）补全原字符串
  // 以上两个方法接受两个参数，第一个参数是指定生成的字符串的最小长度，第二个参数是用来补全的字符串
  // 如果没有指定第二个参数，默认用空格填充
  console.log("q".padStart(5,'o')) // "ooooq"
  console.log("q".padEnd(5,'o')) // "qoooo"
  console.log("q".padStart(5))  // "    q"
  console.log("q".padEnd(5))  // "q    "

  //常用于补全位数：
  console.log("10".padStart(10,"0"));  // "0000000010"
```

### 数组拓展
```js
  const arr = ['张学友', '黎明', '刘德华', '郭富城']

  // keys()  提取数组中的下标
  for (let index of arr.keys()) {
      console.log(index) //0 1 2 3
  }

  // values()   提取数组中的值
  for (let value of arr.values()) {
      console.log(value) //张学友 黎明 刘德华 郭富城
  }

  // entries() 返回键值对
  for (let [index, value] of arr.entries()) {
      console.log(index, value) //0 '张学友' 1 '黎明' 2 '刘德华' 3 '郭富城'
  }

  console.log([1, 2, 3, 4, 5].includes(4)) // true
  console.log([1, 2, 3, 4, 5].includes(6)) // false

  // flat 数组降维，默认是降一维,Infinity无限层
  console.log([1, 2, [3, [4, [6, 6, [8, 9, [10, 11]]], 5]]].flat(Infinity)) //[1, 2, 3, 4, 6, 6, 8, 9, 10, 11, 5]
```

### 对象拓展
```js
  // Object.is 判断两个值是否完全相等
  console.log(Object.is(120, 120));// true
  console.log(Object.is(NaN, NaN));// true
  console.log(NaN === NaN);// false

  // 原型操作与遍历对象
  var obj1 = { a: "aaa", b: 111, c: [1, 2, 3] }
  var obj2 = { d: ["sdf", 111, "ok"], e: 999 }

  // Object.setPrototypeOf   设置原型
  Object.setPrototypeOf(obj1, obj2)

  console.log(obj1) // {a: 'aaa', b: 111, c: Array(3)}

  for (var key in obj1) {
      console.log(key) // a b c d e
  }

  // Object.getPrototypeOf   获取原型
  console.log(Object.getPrototypeOf(obj1)) // {d: Array(3), e: 999}

  // Object.keys	提取对象中的所有属性名(不含原型继承)
  console.log(Object.keys(obj1)) // ['a', 'b', 'c']

  // Object.values	提取对象中的所有属性值(不含原型继承)
  console.log(Object.values(obj1)) // ['aaa', 111, Array(3)]

  // Object.entries  返回对象中的键值对
  console.log(Object.entries(obj1)) // [['a', 'aaa'],['b', 111],['c', [1,2,3]]]

  // Object.assign   对象合并
  console.log(Object.assign(obj1, obj2)) // {a: 'aaa', b: 111, c: Array(3), d: Array(3), e: 999}
```

### 数值拓展
```js
  //Number.EPSILON 是 JavaScript 表示的最小精度
  //EPSILON 属性的值接近于 2.2204460492503130808472633361816E-16
  function equal(a, b) {
      if (Math.abs(a - b) < Number.EPSILON) {
          return true;
      } else {
          return false;
      }
  }
  console.log(Number.EPSILON) // 2.220446049250313e-16
  console.log(0.1 + 0.2 === 0.3); // false
  console.log(equal(0.1 + 0.2, 0.3)) // true

  //二进制和八进制
  let b = 0b1010;
  let o = 0o777;
  let d = 100;
  let x = 0xff;
  console.log(b) // 10
  console.log(o) // 511
  console.log(d) // 100
  console.log(x) // 255

  // Number.isFinite  检测一个数值是否为有限数
  console.log(Number.isFinite(100)); // true
  console.log(Number.isFinite(100 / 0)); // false
  console.log(Number.isFinite(Infinity)); // false

  // Number.isNaN 检测一个数值是否为 NaN
  console.log(Number.isNaN(123)); // false

  // Number.parseInt Number.parseFloat字符串转整数
  console.log(Number.parseInt('5211314love')); // 5211314
  console.log(Number.parseInt('5a211314love')); // 5
  console.log(Number.parseFloat('3.1415926神奇')); // 3.1415926
  console.log(Number.parseFloat('3.1a415926神奇')); // 3.1

  // Number.isInteger 判断一个数是否为整数
  console.log(Number.isInteger(5)); // true
  console.log(Number.isInteger(2.5)); // false

  // Math.trunc 将数字的小数部分抹掉  
  console.log(Math.trunc(3.5)); // 3

  // Math.sign 判断一个数到底为正数 负数 还是零
  console.log(Math.sign(100)); // 1
  console.log(Math.sign(0)); // 0
  console.log(Math.sign(-20000)); // -1
```

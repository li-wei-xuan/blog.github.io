---
title: 类型转换
date: 2022-12-26
tags:
 - JavaScript
 - interview
categories:
 - JavaScript
 - interview
---
### 数据类型
字符串(String)、数字(Number)、布尔(Boolean)、空(Null)、未定义(Undefined)、Symbol(ES6)、对象(Object)、数组(Array)。

```js
1、字符串(String)
  字符串由零个或多个字符构成，字符包括字母，数字，标点符号和空格
  字符串必须放在引号里（单引号或双引号）
  var str = "test"
  var str = 'test'

2、数字(Number)
  var num = 20
  var money = 19.8

3、布尔(Boolean)
  布尔型数据只能有两种种值 true 和 false
  与字符串不同，不要把布尔值用引号括起来。布尔值 false 与 字符串 "false"是两回事
  var bool = true
  var bool = false

4、空(Null)
  在 JavaScript 中 null 表示 "什么都没有"
  null是一个只有一个值的特殊类型。表示一个空对象引用
  可以设置 null 来清空对象
  var person = null

5、未定义(Undefined)
  在 JavaScript 中, undefined 是一个没有设置值的变量
  typeof 一个没有值的变量会返回 undefined
  可以设置为 undefined 来清空对象
  var person = undefined

6、Symbol(ES6)
  ES6 引入了一种新的原始数据类型Symbol，表示独一无二的值。
  它是 JavaScript语言的第七种数据类型，是一种类似于字符串的数据类型。
  var sym = Symbol()

7、对象(Object)
  对象由花括号分隔。在括号内部，对象的属性以名称和值对的形式 (name : value) 来定义。
  属性由逗号分隔.
  var person={name:"zhangsan", friend:"jacky", age:25};


8、数组(Array)
  我们的变量一般都只能存储一个内容 所以它其实是一个单一的容器
  我们的数组一般可以存一个或者是多个值 ，所以数组是一个大的容器

  组成部分:
   数组其实是由多个 (键-值) 所组成的一个多容器
   数组的索引 默认是从0开始的

  定义数组
  var arr = new Array(23,23,45,56,435);
    var arr2 = [23,34,546];
    var arr3 = new Array();
    arr3[0] = 234;
    arr3[1] = 234;

Undefined 和 Null 的区别
  typeof undefined             // undefined
  typeof null                  // object
  null === undefined           // false
  null == undefined            // true
```

### 类型转换
```js
  // 查看数据类型
  console.log(typeof 'hello world') // string
  console.log(typeof 33) // number

  // 转换为字符串
  var demo = true
  demo = demo.toString()
  console.log(typeof demo, demo) // string true

  // 转换为整数
  var demo = "123"
  demo = parseInt(demo)
  console.log(typeof demo, demo) // number 123

  // 转换为浮点数
  var demo = "123.123"
  demo = parseFloat(demo)
  console.log(typeof demo, demo) // number 123.123

  // 保留两位小数 返回字符串类型
  var demo = 123.123
  demo = demo.toFixed(2)
  console.log(typeof demo, demo) // string 123.12

  // 转换为布尔值
  var demo = 123
  demo = Boolean(demo)
  console.log(typeof demo, demo) // boolean true

  // 其他原始类型也是可以用这种方式转换
  // Number(demo)  转换为数值
  // String(demo)  转换为字符串

```

### 显性转换、隐性转换
```js
// 显性转换
// 人为的转换，使得代码看起来更清晰易读
String、Number、Boolean、Object、parseFloat、parseInt等方法的均是显式转换

// 隐性转换
// 当运算符在运算时，两边数据不统一，编译器会自动将两边数据进行数据类型转换成统一的再计算。
  逻辑语句的类型转换：当使用if、while、for 时，隐式转换为布尔值

  逻辑表达式：
    ! 逻辑非，隐式转换为布尔值，并取反，!!两次逻辑非，隐式转换为布尔值
    || 和 && 会将非布尔值操作数，隐式转换为布尔值，再判断

  算术表达式
    递增递减++ --，一元加减 +a、- a（结果的符号取反），二元 -，乘法，除法，求模，隐式转换为 Number

    +运算符：
      不同类型间的转换规则
        1、如果其中一个操作符是对象，则进行对象到原始值的转换（这里是通过 toString 方法获取）
        2、进行了对象到原始值的转换后，如果其中一个操作数是字符串，则另一个操作数也会转换成字符串，再进行连接
        3、否则两个操作数都转换为数字（或者NaN），然后进行加法操作。
      具体使用时，需要考虑加法的结合性对运算顺序的影响
        console.log(1 + 2 + 'hh') // 3hh
        console.log(1 + (2 + 'hh')) // 12hh

    == 运算符：
      注意：尽管 if 语句会隐式转换为布尔值，但 == 运算符并不会自动得将操作数转换为布尔值。
      不同类型间的转换规则
        null == undefined 为true，和其他的比较都为false

        如果一个值是数字，另一个是字符串，先将字符串转换为数字，再进行比较
        a.NaN 与所有值都不相等，包括它自己，可使用 isNaN() 来判断一个值是否是数字
        console.log(NaN=="dsdd");  // false 字符串"dsdd"转为数字为NaN，但是NaN != NaN

        b. 数字间比较，以0开头是8进制
        console.log(012==10);  // true
        console.log(099==99);  // true 这种情况是因为八进制中不可能出现9，所以看成一个十进制

        如果一个值是布尔值，转换为数字再比较
        true == '2'  // false, 先把 true 变成 1， '2' 变成 2

        如果一个值是对象，另一个是数字或字符串或 symbol，将对象转换为原始值再比较（调用 valueOf 方法）
          注意，同类型比较时，对象间除非指针一样，否则它就是两个不同的对象

        其他不同类型比较均不相等
```

### 常用的隐式转换
```js
  a + ""  // 等价于 String(a)
  +a      // 等价于 Number(a)，也可以写成 a - 0
  !!a     // 等价于Boolean(a)
  !a      // 转换为布尔值，并取反
```

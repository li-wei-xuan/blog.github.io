---
title: Symbol
date: 2022-12-16
tags:
 - ECMASript
---

### Symbol
```
ES6 引入了一种新的原始数据类型Symbol，表示独一无二的值。
它是 JavaScript语言的第七种数据类型，是一种类似于字符串的数据类型。

Symbol 特点
  1) Symbol 的值是唯一的，用来解决命名冲突的问题
  2) Symbol 值不能与其他数据进行运算
  3) Symbol 定义的对象属性不能使用 for…in 循环遍历，但是可以使用Reflect.ownKeys来获取对象的所有键名
```

### Symbol创建
```js
  //普通创建
  let s1 = Symbol();
  console.log(s1, typeof s1) // Symbol() 'symbol'

  let s2 = Symbol('test');
  console.log({s2}) // {s2: Symbol(test)}

  //Symbol.for 创建
  let s3 = Symbol.for('test')
  console.log({s3}) // {s3: Symbol(test)}

  // 相同参数 Symbol() 返回的值不相等
  console.log( s2 === s3)  // false

  // Symbol.for() 全局搜索指定key的Symbol，找到的话，就返回该Symbol，找不到，就新建一个
  console.log(Symbol.for("test") === Symbol.for("test")) // true

  // Symbol.for() 定义才能返回值，否则 undefined
  console.log(Symbol.keyFor(s3)) // test

  //不能与其他数据进行运算
  let s = Symbol(100)
  console.log(s + 100) // TypeError
  console.log(s > 100) // TypeError
  console.log(s + s) // TypeError
```

### Symbol作为属性名
```js
  var mySymbol = Symbol();

  // 第一种写法
  var a = {};
  a[mySymbol] = 'Hello!';

  // 第二种写法
  var a = {
    [mySymbol]: 'Hello!'
  };

  // 第三种写法
  var a = {};
  Object.defineProperty(a, mySymbol, { value: 'Hello!' });

  // 以上写法都得到同样结果
  console.log(a[mySymbol]) // "Hello!"
```

### Symbol实际使用
```js
  // 定义一个对象
  let symbol=Symbol('address'); // 可以加参数 指定属性名
  let obj={name:'jack',age:10};

  // 假如我们要向对象里额外加个属性
  // obj.address='非洲' // 以前的写法，不过假如属性很多的时候，可能会出现属性重复

  obj[symbol]='非洲' // 这样能保证属性不重复

  console.log(obj) // name: 'jack', age: 10, Symbol(address): '非洲'
```

---
title: 逻辑函数
date: 2023-02-15
tags:
 - php
---

### 函数的定义
```php
函数是用来完成某种特定任务的可重用代码块
函数可以使程序更具模块化,拥有良好的结构
函数定义后在程序中可以重复调用
函数用function关键字来声明
函数名称是由字母或下划线开始,中间可以包含数字
函数名不区分大小写,不过在调用函数的时候，通常使用其在定义时相同的形式
php不支持函数重载, 所以自定义函数不能和内置函数重名
不能在一个文件中自定义同名的函数
参数出现在括号中,如果有多个参数用逗号分隔
```

### 创建函数
```php
function NumAdd($a, $b = 3) {
    return $a + $b;
}

var_dump(NumAdd(1, 2));  // 3
```

### 传递参数
```php
值传递(传值)
    函数内对参数值的改变不会影响函数外部的值
    
引用传递(传址)
    有些情况下，可能希望在函数体内对参数的修改在函数体外也能反映
    使用引用传递参数要在参数前加上"&"符号
    变量本身传入，传入后的变量与原变量建立联系
    函数体内变量的变化，会影响到原变量本身
 
默认参数值
    可以为参数指定默认值，在没有提供其他值的情况下，则将默认值自动赋给该参数
 
可选参数
    可以指定某个参数为可选参数，这些参数需要放在参数列表的末尾，需且要指定其默认值为空
    如果指定了多个可选参数，可以选择性地传递某些参数

```

### 从函数返回值
```php
通常情况下，只依靠函数做某些事情还不够
需要将函数的执行结果返回给调用者，这时可以使用 return 语句返回结果
return 语句变执行后，将使得函数立即结束运行
 
function NumAdd($num)
{
    //return语句之后无执行
    return $num * $num;
    var_dump(123); // 不打印
}

var_dump(NumAdd(3));
```

### 匿名函数
```php
匿名函数，也就是没有函数名的函数

$demo = function() {
    return 'hello world';
};
echo $demo;
```

### 嵌套函数
```php
function father() {
    echo 'father'.'<br>';

    function son() {
        echo 'son';
    }
}
father();
son();
```

### 变量作用域
```php
全局变量
	函数体外定义的变量为全局变量，与局部变量相反，全局变量可以在程序的任何地方访问
	如果在函数体中需要使用全局变量，使用 global 关键字访问
	全局变量的作用域：从声明它的那条语句开始到文件末尾，即整个脚本


局部变量
	函数体内定义的变量为局部变量，只在函数体内可见
	局部变量的作用域：从声明它的那条语句开始到函数结束，即只作用域函数内部


静态变量
	局部变量在函数退出时会被撤消，与局部变量不同
	静态变量在函数退出时不会丢失值，并且再次调用函数时还能保留这个值
	在变量名前面加上 static 关键字就可以声明一个静态变量

```

### 全局变量
```php
$a = 23;
function test() {
    // 引入全局变量
    global $a;
    
    $a = 34;
    return $a;
}

test(); // 23
// $a = test(); // 34
echo $a;
```

### 局部变量
```php
$str = "全局变量";

function demo() {
    $str = "局部变量";
    return $str;
}

demo();

echo $str; // 全局变量
```

### 静态变量
```php
function demo() {
    // 静态变量
    static $count = 0;
    $count++;
    echo $count."<br>";
}

demo();
demo();
demo();
```

### 函数库
```php
include 与 require
include_once 与 require_once
 
include()语句将在其被调用的位置处包含一个文件
include("init.php");
 
include_once()的作用与include()相同，不过它会首先验证是否已经包含了该文件
如果已经包含，则不再执行include_once()
 
require() 与 include() 之间的区别
如果require()包含文件出错时，脚本将停止执行。 而使用include()脚本将继续执行

```